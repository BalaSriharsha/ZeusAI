# ===========================================
# AI Phone Agent -- Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env

# --- Groq (LLM only) ---
GROQ_API_KEY=gsk_your_groq_api_key_here
GROQ_LLM_MODEL=llama-3.3-70b-versatile

# --- Sarvam AI (STT + TTS — optimized for Indian languages) ---
# Sign up at https://dashboard.sarvam.ai and create an API key
SARVAM_API_KEY=your_sarvam_api_key_here

# STT model: saarika:v2.5 (default) or saaras:v3
SARVAM_STT_MODEL=saarika:v2.5

# TTS speaker — male: shubh, aditya, rahul, rohan, amit, dev, ratan, varun ...
#              female: ritu, priya, neha, pooja, simran, kavya, ishita, shreya ...
SARVAM_TTS_SPEAKER=shubh

# TTS language: en-IN (default), hi-IN, te-IN, ta-IN, kn-IN, ml-IN,
#               mr-IN, bn-IN, gu-IN, pa-IN, od-IN
SARVAM_TTS_LANGUAGE=en-IN

# --- Twilio (international telephony) ---
# Sign up at https://console.twilio.com
# Note: Indian mobile numbers require geographic permissions enabled
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_PHONE_NUMBER=+18451234567

# --- Exotel (Indian telephony provider) ---
# Sign up at https://exotel.com and complete KYC verification
# Get API credentials from: Dashboard > Settings > API Settings
EXOTEL_API_KEY=your_exotel_api_key_here
EXOTEL_API_TOKEN=your_exotel_api_token_here
EXOTEL_ACCOUNT_SID=your_exotel_account_sid_here

# Your Exotel virtual number (ExoPhone) — e.g. 08xxxxxxxxxx or +91xxxxxxxxxx
EXOTEL_PHONE_NUMBER=+91XXXXXXXXXX

# App Bazaar flow ID — create a flow in Exotel Dashboard > App Bazaar
# with a Voicebot Applet pointing to: wss://<PUBLIC_BASE_URL>/exotel/stream
# Then get the App ID from the flow URL or dashboard.
EXOTEL_APP_ID=your_app_bazaar_flow_id_here

# --- Cloudflare Tunnel (for Cloudflare deployment) ---
# Get this token from: Cloudflare Zero Trust > Networks > Tunnels
# Required only when using docker-compose.cloudflare.yml
CLOUDFLARE_TUNNEL_TOKEN=your_tunnel_token_here

# --- Redis ---
# In Docker, this is overridden automatically to redis://redis:6379/0
# For local development (outside Docker), keep as localhost.
REDIS_URL=redis://localhost:6379/0

# --- App Settings ---
APP_HOST=0.0.0.0
APP_PORT=8000

# --- Public URL (REQUIRED for both providers) ---
# This must be publicly accessible from the internet.
# Exotel will open a WebSocket to: wss://<PUBLIC_BASE_URL>/exotel/stream
# Twilio will open a WebSocket to: wss://<PUBLIC_BASE_URL>/twilio/stream/<call_id>
#
# Production (hosted on a server):
#   PUBLIC_BASE_URL=https://yourdomain.com
#
# Local development with ngrok:
#   1. Run: ngrok http 8000
#   2. Copy the https:// URL
#   3. Set it here:
PUBLIC_BASE_URL=https://yourdomain.com

# --- User Profile (Default) ---
DEFAULT_USER_NAME=YourName
DEFAULT_USER_PHONE=+91XXXXXXXXXX

# --- Phone Registry ---
# JSON mapping of entity names to real phone numbers.
# Key format: entity_name (lowercase, underscores).
# Fuzzy matching is used, so "Apollo Hospital Madinaguda" will find
# "apollo_hospital_madinaguda".
# You can add any entity: hospitals, banks, support lines, etc.
PHONE_REGISTRY='{"apollo_hospital_madinaguda": "+91XXXXXXXXXX", "hdfc_bank_hitech_city": "+91XXXXXXXXXX"}'
