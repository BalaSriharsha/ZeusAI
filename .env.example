# ===========================================
# AI Phone Agent -- Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env

# --- Groq (STT + LLM) ---
GROQ_API_KEY=gsk_your_groq_api_key_here
GROQ_STT_MODEL=whisper-large-v3-turbo
GROQ_LLM_MODEL=llama-3.3-70b-versatile

# --- Deepgram (TTS) ---
DEEPGRAM_API_KEY=your_deepgram_api_key_here
DEEPGRAM_TTS_MODEL=aura-asteria-en

# --- Agent Voice ---
# Full list: https://developers.deepgram.com/docs/tts-models
AGENT_TTS_VOICE=aura-orion-en

# --- Hospital Agent ---
# In Docker, the backend reaches the hospital agent by service name.
# docker-compose.yml already overrides this automatically.
# For local development (outside Docker), keep this as localhost.
HOSPITAL_AGENT_URL=ws://localhost:8001
HOSPITAL_AGENT_PORT=8001
HOSPITAL_TTS_VOICE=aura-luna-en

# --- Twilio ---
# Sign up at https://console.twilio.com
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_PHONE_NUMBER=+18451234567

# --- Cloudflare Tunnel (for Cloudflare deployment) ---
# Get this token from: Cloudflare Zero Trust > Networks > Tunnels
# Required only when using docker-compose.cloudflare.yml
CLOUDFLARE_TUNNEL_TOKEN=your_tunnel_token_here

# --- Redis ---
# In Docker, this is overridden automatically to redis://redis:6379/0
# For local development (outside Docker), keep as localhost.
REDIS_URL=redis://localhost:6379/0

# --- App Settings ---
APP_HOST=0.0.0.0
APP_PORT=8000

# --- Public URL (REQUIRED for Twilio Media Streams) ---
# This must be publicly accessible from the internet.
#
# Production (hosted on a server):
#   PUBLIC_BASE_URL=https://yourdomain.com
#
# Local development with ngrok:
#   1. Run: ngrok http 8000
#   2. Copy the https:// URL
#   3. Set it here:
PUBLIC_BASE_URL=https://yourdomain.com

# --- User Profile (Default) ---
# DEFAULT_USER_PHONE must be verified in Twilio (trial accounts).
DEFAULT_USER_NAME=YourName
DEFAULT_USER_PHONE=+91XXXXXXXXXX

# --- Hospital / Entity Registry ---
# JSON mapping of entity names to real phone numbers.
# Key format: entity_name_branch (lowercase, underscores).
# Fuzzy matching is used, so "Apollo Hospital Madinaguda" will find
# "apollo_hospital_madinaguda".
HOSPITAL_REGISTRY='{"apollo_hospital_madinaguda": "+91XXXXXXXXXX", "apollo_hospital_jubilee_hills": "+91XXXXXXXXXX"}'
